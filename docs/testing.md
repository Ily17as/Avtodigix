# Тестирование

## Smoke-критерии (по ТЗ)
Минимальный набор проверок для подтверждения, что приложение готово к демонстрации и базовой диагностике.

1. Приложение устанавливается и запускается без крэшей.
2. Экран **Welcome/Onboarding** отображается и содержит кнопку **Get started**.
3. Навигация **Back/Next** работает по всему линейному флоу из 5 экранов:
   - Welcome → Connection → Summary → Live Metrics → DTC List → Finish (возврат на Welcome).
4. Экран **Connection** показывает статус подключения, чек‑лист и предупреждение о безопасности.
5. Экран **Summary** отображает три карточки «светофора» (green/yellow/red) с текстовыми пояснениями.
6. Экран **Live Metrics** отображает список метрик и предупреждение.
7. Экран **DTC List** отображает список кодов и поясняющий футер.

## Негативные сценарии
Описания ожидаемого поведения при проблемах с подключением.

### 1) Адаптер не найден
- **Условия:** Bluetooth включен, но OBD‑II адаптер не обнаруживается.
- **Ожидаемое поведение:**
  - На экране **Connection** сохраняется статус «Not connected».
  - Пользователь видит подсказку о подключении питания адаптера и необходимости повторить поиск/сопряжение.

### 2) Адаптер не отвечает
- **Условия:** адаптер найден/сопряжен, но не отвечает на запросы.
- **Ожидаемое поведение:**
  - Статус связи не подтверждается, VIN/данные не получены.
  - Пользователь получает рекомендацию проверить питание адаптера/переподключиться.

### 3) Соединение рвётся
- **Условия:** во время сессии связь нестабильна или разрывается.
- **Ожидаемое поведение:**
  - Состояние подключения возвращается в «Not connected».
  - Пользователь видит подсказку о повторном подключении и стабильности канала.

### 4) Зажигание выключено
- **Условия:** адаптер подключен, но зажигание выключено и ECU не отвечает.
- **Ожидаемое поведение:**
  - Диагностические данные не обновляются.
  - Пользователь получает явное указание включить зажигание.

## Чек‑лист ручного тестирования
Использовать при регрессе/приемке UI‑флоу.

### Подготовка
- Устройство с Android 11+.
- OBD‑II адаптер (см. `docs/tested-adapters.md`).
- Bluetooth включен, адаптер подключен к OBD‑II порту.

### Проверки
1. Запустить приложение — нет крэшей/ошибок запуска.
2. Welcome: текст, предупреждения и кнопка **Get started** отображаются.
3. Нажать **Get started** — переход на экран **Connection**.
4. Connection: статус подключения, чек‑лист и предупреждение отображаются.
5. Нажать **Next** — переход на **Summary**.
6. Summary: 3 карточки (green/yellow/red) и поясняющий текст отображаются.
7. Нажать **Next** — переход на **Live Metrics**.
8. Live Metrics: список метрик и предупреждение отображаются.
9. Нажать **Next** — переход на **DTC List**.
10. DTC List: список кодов и пояснение отображаются.
11. Нажать **Finish** — возврат на **Welcome**.
